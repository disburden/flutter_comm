import 'package:flutter/material.dart';
import 'package:flutter_comm/flutter_comm.dart';
import 'dart:typed_data';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
	// This widget is the root of your application.
	@override
	Widget build(BuildContext context) {
		return MaterialApp(
			title: 'Flutter Demo',
			theme: ThemeData(
				// This is the theme of your application.
				//
				// Try running your application with "flutter run". You'll see the
				// application has a blue toolbar. Then, without quitting the app, try
				// changing the primarySwatch below to Colors.green and then invoke
				// "hot reload" (press "r" in the console where you ran "flutter run",
				// or simply save your changes to "hot reload" in a Flutter IDE).
				// Notice that the counter didn't reset back to zero; the application
				// is not restarted.
				primarySwatch: Colors.blue,
			),
			home: MyHomePage(title: 'Flutter Demo Home Page'),
		);
	}
}

class MyHomePage extends StatefulWidget {
	MyHomePage({Key key, this.title}) : super(key: key);


	final String title;

	@override
	_MyHomePageState createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
	int _counter = 0;


	FCAddableWidget ad = FCAddableWidget(child: Container(
		height: 100,
		color: Colors.orange,
	));

	FCTextView tv;

	void _incrementCounter() {
		print(tv.text);
		tv.text = "hoho change to galking";

		String dd = FCEncrypt.encodeUseBase64("hoho asdfwefasdfase asdfwe3");
		print(dd);
		String cc = FCEncrypt.decodeUseBase64(dd);
		print(cc);

		Uint8List mm = Uint8List.fromList([
		0x0301,0x6ab7,0x9df6,0xc566,0xc10f,0xe51d,0xde76,0x301d,
		0xa9ec,0xbfbb,0x0b9a,0x8100,0x2ff8,0x30cf,0xe624,0x7eb9,
		0x35dd,0xa565,0xd593,0x4e37,0x4bd6,0x6060,0x408e,0xf1e7,
		0xb27b,0x142c,0x81ec,0x88af,0xff2b,0x2b1a,0xa039,0x0400,
		0x67ce,0xb5d3,0xfd58,0x42ae,0x52b1,0xf738,0x1987,0xafac,
		0x0580,0xea4a,0x8be7,0x6283,0x9ca1,0x6aed,0xe084,0x755c,
		0x2a31,0x47fc,0x91db,0xe114,0x112a,0x9dfc,0xfc2f,0xd6d4,
		0x3191,0xd345,0x340a,0x8b4f,0x955d,0xf1f6,0x24d6,0x4dda,
		0xd800,0x3764,0xde93,0x1161,0xb55a,0xc277,0xc02f,0x07ac,
		0xa7a3,0xc763,0x8e43,0x10c7,0x5c66,0xd339,0x755c,0xc0d8,
		0xa8e3,0xfe4c,0x6e61,0x31bb,0x0469,0x2a35,0x646f,0xf5f2,
		0xd0e5,0xa818,0x5395,0xb1be,0x2f75,0x4447,0x4518,0xf42a,
		0xf414,0x77fe,0x52f4,0xbf27,0x2295,0x9bf3,0xfb01,0x97c0,
		0x7a2a,0x9e7b,0x331b,0xf687,0x3d5a,0xe10d,0x6587,0xf79d,
		0xc6a4,0x2dc2,0xc746,0x6263,0xfdf5,0xf52e,0x44c2,0xf69b,
		0x403b,0x0c8b,0xbfab,0x1242,0xa6ef,0x8cf7,0xa81d,0x3b0c,
		0xaeec,0x03b1,0x7cd9,0xc76b,0x5f74,0x6ce6,0x93df,0xd381,
		0x1420,0x8d93,0x560e,0x191a,0xd271,0xd63c,0xf300,0x5d70,
		0x42e5,0xe8ae,0x3027,0x71b8,0x5b81,0x0ef4,0xa666,0x31ee,
		0x942d,0x8151,0xc64d,0xb834,0x589e,0x3fb8,0x68ad,0xde90,
		0xf370,0xb733,0x3a79,0x0560,0xeb93,0x3a4d,0x7c86,0x36d0,
		0x6e72,0xb1ff,0x81d5,0x4272,0x86da,0xafb2,0x71a1,0xb512,
		0xd5e0,0xebd6,0x8d1b,0x610b,0xcdda,0x891f,0xfd77,0x3bab,
		0x3b0d,0xcb77,0x76b2,0xdacc,0xaecb,0x2050,0xa4f2,0xa853,
		0x5953,0xdb37,0xef5f,0xbf1c,0xd122,0x1f48,0x8bf7,0x1576,
		0x7dd4,0x7489,0xc5a3,0xd6dc,0xf081,0x0f6c,0x02b3,0x4e07,
		0x0131,0xc9ad,0x9630,0xbbd4,0xa1c5,0x02fe,0xb9fc,0x6321,
		0xf6f5,0xc061,0x544e,0x8f70,0xfffe,0xef1a,0x6418,0x5243,
		0x2c31,0xdd53,0x4fcb,0xadd4,0xf722,0x2fc3,0x9570,0x2e2d,
		0x5aee,0x2401,0x672c,0xc610,0xab87,0xf12e,0x725e,0xcb91,
		0x0ba6,0xbdc8,0xb96f,0xdaad,0xd00e,0xaacc,0xcd33,0x0dec,
		0x6148,0x0c92,0x16fc,0x5148,0xc730,0x4d60,0x3bf0,0x58d4,
		0xb5f6,0x9e84,0x0f0d,0x43dd,0x8fe6,0x92de,0x7b87,0xcab2,
		0xc774,0x6250,0x5912,0x4652,0x581a,0x8890,0x7130,0x09e3,
		0x0be5,0x2ee8,0x2d3b,0x798c,0x77c4,0xa725,0x8930,0x884f,
		0x955a,0xe9a1,0x4a80,0xeec8,0x334b,0x5594,0xec4b,0xda8c,
		0xa148,0x9db0,0xc6b3,0x9db3,0xd863,0xb82c,0x77ae,0x8dae,
		0x22cd,0xe8a0,0xfbf4,0xbd98,0xe366,0xfc6e,0xb6ae,0x1daf]);

		String nn = String.fromCharCodes(mm);
		print(nn);

//		setState(() {
//			ad.addSubView(
//				child: Container(
//					color: Colors.black26,
//				),
//				height: 20.0,
//				width: 5.0,
//				top: 40.0,
//				left: 30.0
//			);
//		});
	}

	@override
	Widget build(BuildContext context) {


		TextEditingController _ctrl = TextEditingController();
		_ctrl.text = "disburden";

		tv = FCTextView(
			height: 150.0,
			width: MediaQuery
				.of(context)
				.size
				.width,
			backgroundColor: Colors.cyan,
			controller: _ctrl,
		);

		return Scaffold(
			appBar: AppBar(
				// Here we take the value from the MyHomePage object that was created by
				// the App.build method, and use it to set our appbar title.
				title: Text(widget.title),
			),
			body: Center(
				// Center is a layout widget. It takes a single child and positions it
				// in the middle of the parent.
				child: Column(
					mainAxisAlignment: MainAxisAlignment.center,
					children: <Widget>[
						tv,
						ad,
//            Text(
//              'You have pushed the button this many times:',
//            ),
//            Text(
//              '$_counter',
//              style: Theme.of(context).textTheme.display1,
//            ),
					],
				),
			),
			floatingActionButton: FloatingActionButton(
				onPressed: _incrementCounter,
				tooltip: 'Increment',
				child: Icon(Icons.add),
			), // This trailing comma makes auto-formatting nicer for build methods.
		);
	}
}
